CREATE TABLE usuarios(
	id SERIAL PRIMARY KEY,
	nome TEXT not null,
	email TEXT  not null UNIQUE,
	senha TEXT not null
);

CREATE TABLE categorias (
	id SERIAL PRIMARY KEY,
  descricao TEXT NOT NULL
);

CREATE TABLE transacoes (
	id SERIAL PRIMARY KEY,
	descricao TEXT,
	valor INT NOT NULL,
	data DATE,
	categoria_id INT NOT NULL REFERENCES categorias(id),
	usuario_id INT NOT NULL REFERENCES usuarios(id)
  );

INSERT INTO CATEGORIAS
  (descricao)
VALUES
	('Alimentação'),
	('Assinaturas e Serviços'),
	('Casa'),
	('Mercado'),
	('Cuidados Pessoais'),
	('Educação'),
	('Família'),
	('Lazer'),
	('Pets'),
	('Presentes'),
	('Roupas'),
	('Saúde'),
	('Transporte'),
	('Salário'),
	('Vendas'),
	('Outras receitas'),
	('Outras despesas');

	ALTER TABLE transacoes ADD COLUMN tipo VARCHAR(20) NOT NULL;

	ALTER TABLE transacoes ALTER COLUMN data SET DEFAULT CURRENT_TIMESTAMP;

	ALTER TABLE transacoes ALTER COLUMN data TYPE TIMESTAMP;